{#
Allows to customize personnal informations (for logged user).
Required :
- account : Form element based on AccountType object (i.e. user to edit).
#}

{% extends "base.html.twig" %}

{% block meta %}
    {{ parent() }}
    <meta name="robots" content="noindex" />
{% endblock %}

{% block title %}Mise à jour du compte{% endblock %}

{% block body %}

    <h1>Mon compte</h1>

    <div id="account-infos" class="center">

        <div id="account-statistics">
        {% if (quizInProgress|length > 0) %}
            <div class="card center">
                <h2>Quiz en cours</h2>
                <ul>
                {% for quiz in quizInProgress %}
                    <li><a href="{{ path('fo_quiz_play', {'quiz': quiz.id}) }}">{{ quiz.name }}</a></li>
                {% endfor %}
                </ul>
            </div>
        {% endif %}
        {% if (quizOver|length > 0) %}
            <div class="card center">
                <h2>Quiz terminé(s)</h2>
                <ul>
                {% for quiz in quizOver %}
                    <li><a href="{{ path('fo_quiz_play', {'quiz': quiz.id}) }}">{{ quiz.name }}</a></li>
                {% endfor %}
                </ul>
            </div>
        {% endif %}
        </div>

        {{ form_start(account, {'attr': {'class': 'center card w-half'}}) }}
            <section>
                <p class="margin-bottom">Bonjour <strong>{{ app.user.firstname }} {{ app.user.lastname }}</strong>,</p>
                <p>Vous pouvez mettre à jour vos informations personnelles.</p>
                <p class="note margin-bottom"><strong>NOTE : </strong>Si vous ne souhaitez pas modifier votre mot de passe, laissez les champs vides.</p>
            </section>
            {{ form_rest(account) }}
            <div class="form-buttons">
                <input type="submit" class="button" value="Enregistrer"/>
            </div>
        {{ form_end(account) }}

    </div>

{% endblock %}
