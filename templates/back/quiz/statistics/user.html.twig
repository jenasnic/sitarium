{#
Allows to display statistics about specific player.
Required :
- user : player we want to display statisctics (as User).
- quizInfos : statisctics about specified user.
#}

{% extends "admin.html.twig" %}

{% block body %}

    <h1 class="title">{{ 'back.quiz.statistics.player_statistics'|trans }}</h1>

    <h2 class="subtitle">{{ user.firstname }} {{ user.lastname }}</h2>

    <div id="statistics">

        <table class="table is-striped is-hoverable is-fullwidth">
            <thead>
                <tr>
                    <th>{{ 'back.quiz.statistics.quiz'|trans }}</th>
                    <th>{{ 'back.quiz.statistics.response_count'|trans }}</th>
                    <th>{{ 'back.quiz.statistics.last_session'|trans }}</th>
                    <th>{{ 'global.detail'|trans }}</th>
                </tr>
            </thead>
            <tbody>
            {% for quizInfo in quizInfos %}
                <tr>
                    <td>{{ quizInfo['name'] }}</td>
                    <td>{{ quizInfo['responseCount'] }}</td>
                    <td>{{ quizInfo['lastDate']|date("d/m/Y") }}</td>
                    <td>
                        <span
                            class="icon has-text-info button show-statistics-detail-button"
                            data-statistics-url="{{ path('bo_quiz_statistics_user_response', {'user': user.id, 'quiz': quizInfo['id']}) }}"
                        >
                            <i class="fas fa-search"></i>
                        </span>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>

    </div>

{% endblock %}
